<!DOCTYPE html>
<html>
<head>
    <title>jsViddler Test Page</title>
    <link rel="stylesheet" type="text/css" href="history/history.css" />
    <script type="text/javascript" src="history/history.js"></script>
</head>
<body>
<h1>jsViddler Test Page</h1>
<div id="viddlerProxy"></div>
<form>
<dl>
    <dt>API Key</dt>
    <dd><input type="text" size="40" maxlength="40" name="apikey" id="apikey" />
    <dt>Echo</dt>
    <dd><input type="text" size="40" maxlength="40" name="echo" id="echo" /><input value="api.echo" type="button" onclick="jsViddler.setKey(this.form.apikey.value);jsViddler.echo(this.form.echo.value,function(msg){this.form.response.value=msg});" />
    <dt>User</dt>
    <dd><input type="text" size="40" maxlength="40" name="user" id="user" /><input value="videos.getByUser" type="button" onclick="jsViddler.setKey(this.form.apikey.value);jsViddler.getUserVideos(this.form.user.value,function(resp){this.form.response.value=JSON.stringify(resp)});" />
    <dt>Response</dt>
    <dd><textarea rows="10" cols="80" wrap="soft" name="response" id="response"></textarea></dd>
</dl>
<script type="text/javascript" src="swfobject.js"></script>
<script type="text/javascript">
// For version detection, set to min. required Flash Player version, or 0 (or 0.0.0), for no version detection. 
var swfVersionStr = "10.2.0";
// To use express install, set to playerProductInstall.swf, otherwise the empty string. 
var xiSwfUrlStr = "playerProductInstall.swf";
var flashvars = {};
var params = {};
params.quality = "high";
params.bgcolor = "#ffffff";
params.allowscriptaccess = "always";
params.allowfullscreen = "true";
var attributes = {};
attributes.id = "jsViddler";
attributes.name = "jsViddler";
attributes.align = "middle";
swfobject.embedSWF(
    "jsViddler.swf", "viddlerProxy", 
    "1", "1", 
    swfVersionStr, xiSwfUrlStr, 
    flashvars, params, attributes);
// JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
swfobject.createCSS("#flashContent", "display:block;text-align:left;");
var foo = function(){
    jsViddler.setKey("YOUR API KEY HERE");
    jsViddler.echo("I like turtles", function(msg) { alert(msg); });
    jsViddler.getUserVideos("sandieman", function(response) {
        console.log(response);
    });
};
</script>
<script type="text/javascript" src="viddler.js"></script>

</html>